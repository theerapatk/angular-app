<div class="progress-bar-container">
    <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>
</div>
<div class="form-container" [@slideInOut]="animationState">
    <ng-container *ngIf="isFormSubmitted && !isCredentialsValid">
        <div class="invalid-credentials-text background-red">
            Invalid Email/Password
        </div>
    </ng-container>
    <form *ngIf="animationState === 0" [formGroup]="loginForm">
        <mat-form-field>
            <input matInput formControlName="email" placeholder="Email" #email>
        </mat-form-field>
        <mat-form-field formGroupName="credential">
            <input matInput formControlName="password" type="password" placeholder="Password" autocomplete="off">
        </mat-form-field>
        <button mat-raised-button type="submit" color="primary" (click)="onLogIn()" class="login-button"
            [disabled]="!loginForm.dirty || !loginForm.valid || isLoading">Log In</button>
        <div class="anchor-container"><a href="">Forgotten password?</a></div>
        <mat-divider></mat-divider>
        <button mat-raised-button type="button" (click)="onCreateNewAccount()" class="new-account-button"
            [disabled]="isLoading">
            Creat New Account</button>
        <!-- <div class="text-container">or</div>
        <button mat-raised-button (click)="onFacebookLogIn()" class="facebook-login-button" [disabled]="isLoading">
            <mat-icon class="facebook-icon">facebook</mat-icon>Login with Facebook
        </button> -->
    </form>
    <app-create-account (isCreatingAccount)="onAccountIsCreating($event)" [animationState]="animationState"
        (animationStateChange)="onAnimationStateChange($event)">
    </app-create-account>
</div>
<mat-dialog-actions align="center">
    <div class="back-to-login-button">
        <button *ngIf="animationState === 1" mat-button color="primary" type="button" (click)="onBackToLogIn()">
            Back to Log In
        </button>
    </div>
    <div class="cancel-button">
        <button mat-button color="primary" type="button" mat-dialog-close>Cancel</button>
    </div>
</mat-dialog-actions>